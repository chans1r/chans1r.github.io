<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playing... | Math Station</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 1. 解除滑動限制，允許網頁上下滑動 */
        body { 
            opacity: 0; transition: opacity 0.4s; font-family: 'Nunito', sans-serif; 
            margin: 0; padding: 0; background-color: #050505; 
            overflow: auto; /* 核心修正：允許原生滑動 */
        }
        
        /* 2. 全新設計：懸浮半透明膠囊按鈕 (完全不佔據遊戲排版空間) */
        .floating-nav { 
            position: fixed; top: 15px; left: 15px; z-index: 9999; 
            background: rgba(15, 23, 42, 0.4); /* 極度半透明的星空藍 */
            backdrop-filter: blur(8px); /* 玻璃模糊效果 */
            display: flex; gap: 10px; padding: 8px 15px; 
            border-radius: 30px; border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        /* 滑鼠移過去時才變清楚 */
        .floating-nav:hover { background: rgba(15, 23, 42, 0.95); box-shadow: 0 10px 20px rgba(0,0,0,0.5); transform: scale(1.05); }
        
        .nav-btn { 
            color: #cbd5e1; text-decoration: none; font-size: 14px; font-weight: 800; 
            display: flex; align-items: center; gap: 6px; padding: 5px 10px; 
            border-radius: 20px; transition: 0.2s;
        }
        .nav-btn:hover { color: #fff; background: rgba(255,255,255,0.1); }
        .nav-btn.exit:hover { color: #ef4444; } /* 首頁按鈕滑過變紅 */

        /* 3. 遊戲畫面全螢幕延展 (不再被頂部切掉) */
        .iframe-container { width: 100%; min-height: 100vh; display: flex; justify-content: center; }
        iframe { width: 100%; max-width: 1400px; min-height: 100vh; border: none; background: #000; }
        
        /* 找不到遊戲的錯誤畫面 */
        .error-msg { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; color: #ef4444; text-align: center; }
        .error-msg i { font-size: 50px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <!-- 懸浮玻璃按鈕 (懸停在遊戲左上方) -->
    <div class="floating-nav">
        <a href="javascript:history.back()" class="nav-btn interactive-element"><i class="fa-solid fa-arrow-left"></i> 返回</a>
        <a href="index.html" class="nav-btn exit interactive-element"><i class="fa-solid fa-house"></i> 首頁</a>
    </div>

    <!-- 遊戲展示區 -->
    <div class="iframe-container" id="game-wrapper">
        <iframe id="game-frame" src="" allowfullscreen></iframe>
    </div>

    <!-- 載入核心引擎 -->
    <script src="database.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const gameId = urlParams.get('game');
        if (gameId) {
            document.getElementById('game-frame').src = 'games/' + gameId + '/index.html';
        } else {
            document.getElementById('game-wrapper').innerHTML = "<div class='error-msg'><i class='fa-solid fa-triangle-exclamation'></i><h2>404 SYSTEM ERROR</h2><p>找不到遊戲檔案模組<br>Game Data Not Found</p></div>";
        }
    </script>
</body>
</html>
